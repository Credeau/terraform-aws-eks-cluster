{
	"Version": "2012-10-17",
	"Statement": [
		{
			"Action": [
				"ecr:BatchGetImage",
				"ecr:DescribeImages",
				"ecr:DescribeRegistry",
				"ecr:DescribeRepositories",
				"ecr:GetAuthorizationToken",
				"ecr:GetDownloadUrlForLayer",
				"ecr:ListImages",
				"ecr:ListTagsForResource",
				"logs:CreateLogStream",
				"logs:PutLogEvents",
				"ssm:GetParameter",
				"ssm:GetParameters",
				"s3:*"
			],
			"Effect": "Allow",
			"Resource": "*"
		},
		{
			"Action": [
				"cloudwatch:PutMetricData",
				"ec2:DescribeVolumes",
				"ec2:DescribeTags",
				"logs:PutLogEvents",
				"logs:PutRetentionPolicy",
				"logs:DescribeLogStreams",
				"logs:DescribeLogGroups",
				"logs:CreateLogStream",
				"logs:CreateLogGroup",
				"xray:PutTraceSegments",
				"xray:PutTelemetryRecords",
				"xray:GetSamplingRules",
				"xray:GetSamplingTargets",
				"xray:GetSamplingStatisticSummaries"
			],
			"Effect": "Allow",
			"Resource": "*",
			"Sid": "CWACloudWatchServerPermissions"
		},
		{
			"Action": [
				"ssm:GetParameter"
			],
			"Effect": "Allow",
			"Resource": "arn:aws:ssm:*:*:parameter/AmazonCloudWatch-*",
			"Sid": "CWASSMServerPermissions"
		},
		{
			"Action": [
				"iam:CreateServiceLinkedRole"
			],
			"Condition": {
				"StringEquals": {
					"iam:AWSServiceName": [
						"replication.ecr.amazonaws.com"
					]
				}
			},
			"Effect": "Allow",
			"Resource": "*"
		}
	]
}